@using Newtonsoft.Json
@model List<TamVaxti.Models.Product>

@foreach (var product in Model)
{
    <div class="col-xl-3 col-6 col-grid-box">
        <div class="product-box">
            <div class="img-wrapper">
                <div class="front">
                    <a asp-controller="Product" asp-action="Index" asp-route-id="@product.Id">
                        <img src="~/img/@product.ProductImages.FirstOrDefault(m => m.IsMain)?.ImageUrl"
                             class="img-fluid blur-up lazyload bg-img" alt="">
                    </a>
                </div>
                <div class="back">
                    <a asp-controller="Product" asp-action="Index" asp-route-id="@product.Id">
                        <img src="~/img/@product.ProductImages.FirstOrDefault(m => m.IsMain)?.ImageUrl"
                             class="img-fluid blur-up lazyload bg-img" alt="">
                    </a>
                </div>

                <div class="cart-info cart-wrap">

                    <a href="javascript:void(0)" class="add-to-cart" title="Add to cart" data-product-id="@product.Id">
                        <i class="ti-shopping-cart"></i>
                    </a>

                    @if (User.Identity.IsAuthenticated)
                    {
                        <a href="javascript:void(0)" class="add-to-wishlist" data-product-id="@product.Id" title="Add to Wishlist">
                            <i class="ti-heart" aria-hidden="true"></i>
                        </a>
                    }
                    <a href="#" data-bs-toggle="modal" data-bs-target="#quick-view" title="Quick View">
                        <i class="ti-search" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
            <div class="product-detail">
                <div>
                    <div class="rating">
                        <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i>
                    </div>
                    <a asp-controller="Product" asp-action="Index" asp-route-id="@product.Id">
                        <h6>@product.Name</h6>
                    </a>
                    <p>@product.Description</p>
                    <h4>@product.Price</h4>
                    <ul class="color-variant">
                        <li class="bg-light0"></li>
                        <li class="bg-light1"></li>
                        <li class="bg-light2"></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
}


